<!DOCTYPE html><html lang="en">
<head profile="http://a9.com/-/spec/opensearch/1.1/">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="../../../../-/site.css@v=77a375cde004447959d56a1c99a85585729361d2.css" rel="stylesheet">
  
  
  <title>master - GoDoc</title>
  
    <meta name="twitter:title" content="Package master">
    <meta property="og:title" content="Package master">
    <meta name="description" content="Package master contains code for setting up and running a Kubernetes cluster master.">
    <meta name="twitter:description" content="Package master contains code for setting up and running a Kubernetes cluster master.">
    <meta property="og:description" content="Package master contains code for setting up and running a Kubernetes cluster master.">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@golang">
  
  

  

</head>
<body>
<nav class="navbar navbar-default" role="navigation">
  <div class="container">
  <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="http://godoc.org/"><strong>GoDoc</strong></a>
  </div>
  <div class="collapse navbar-collapse">
    <ul class="nav navbar-nav">
        <li><a href="http://godoc.org/">Home</a></li>
        <li><a href="http://godoc.org/-/index">Index</a></li>
        <li><a href="http://godoc.org/-/about">About</a></li>
    </ul>
    <form class="navbar-nav navbar-form navbar-right" id="x-search" action="http://godoc.org/" role="search"><input class="form-control" id="x-search-query" type="text" name="q" placeholder="Search"></form>
  </div>
</div>
</nav>

<div class="container">
  
  



        <div class="clearfix" id="x-projnav">
  <a href="https://github.com/GoogleCloudPlatform/kubernetes"><strong>kubernetes:</strong></a>
  <a href="../../kubernetes.html">github.com/GoogleCloudPlatform/kubernetes</a><span class="text-muted">/</span><a href="../pkg.1.html">pkg</a><span class="text-muted">/</span><span class="text-muted">master</span>
  
  <span class="pull-right">
    <a href="master.html#pkg-index">Index</a>
    
    <span class="text-muted">|</span> <a href="master.html#pkg-files">Files</a>
    <span class="text-muted">|</span> <a href="master.html#pkg-subdirectories">Directories</a>
  </span>
  
</div>

        <h2 id="pkg-overview">package master</h2>

        <p><code>import "github.com/GoogleCloudPlatform/kubernetes/pkg/master"</code>

        <p>
Package master contains code for setting up and running a Kubernetes
cluster master.</p>


        
  


        
        <h3 id="pkg-index" class="section-header">Index <a class="permalink" href="master.html#pkg-index">&para;</a></h3>

        

        <ul class="list-unstyled">
          
          
          <li><a href="master.html#NewEtcdHelper">func NewEtcdHelper(client tools.EtcdGetSet, version string) (helper tools.EtcdHelper, err error)</a></li><li><a href="master.html#NewHandlerContainer">func NewHandlerContainer(mux *http.ServeMux) *restful.Container</a></li>
          
            <li><a href="master.html#Config">type Config</a></li>
            
            
            
            
          
            <li><a href="master.html#Master">type Master</a></li>
            <ul>
            <li><a href="master.html#New">func New(c *Config) *Master</a></li>
            <li><a href="master.html#Master.API_v1beta1">func (m *Master) API_v1beta1() (map[string]apiserver.RESTStorage, runtime.Codec, string, runtime.SelfLinker)</a></li><li><a href="master.html#Master.API_v1beta2">func (m *Master) API_v1beta2() (map[string]apiserver.RESTStorage, runtime.Codec, string, runtime.SelfLinker)</a></li><li><a href="master.html#Master.HandleFuncWithAuth">func (m *Master) HandleFuncWithAuth(pattern string, handler func(http.ResponseWriter, *http.Request))</a></li><li><a href="master.html#Master.HandleWithAuth">func (m *Master) HandleWithAuth(pattern string, handler http.Handler)</a></li>
            </ul>
          
            <li><a href="master.html#PodCache">type PodCache</a></li>
            <ul>
            <li><a href="master.html#NewPodCache">func NewPodCache(info client.PodInfoGetter, pods pod.Registry) *PodCache</a></li>
            <li><a href="master.html#PodCache.GetPodInfo">func (p *PodCache) GetPodInfo(host, podNamespace, podID string) (api.PodInfo, error)</a></li><li><a href="master.html#PodCache.UpdateAllContainers">func (p *PodCache) UpdateAllContainers()</a></li>
            </ul>
          
        </ul>

        
        
          <span id="pkg-examples"></span>
        

        
        <h4 id="pkg-files">
          <a href="https://github.com/GoogleCloudPlatform/kubernetes/tree/master/pkg/master">Package Files</a>
          <a class="permalink" href="master.html#pkg-files">&para;</a>
        </h4>

        <p><a href="https://github.com/GoogleCloudPlatform/kubernetes/blob/master/pkg/master/doc.go">doc.go</a> <a href="https://github.com/GoogleCloudPlatform/kubernetes/blob/master/pkg/master/handlers.go">handlers.go</a> <a href="https://github.com/GoogleCloudPlatform/kubernetes/blob/master/pkg/master/master.go">master.go</a> <a href="https://github.com/GoogleCloudPlatform/kubernetes/blob/master/pkg/master/pod_cache.go">pod_cache.go</a> <a href="https://github.com/GoogleCloudPlatform/kubernetes/blob/master/pkg/master/publish.go">publish.go</a> </p>

        
        

        
        

        
        
        
          <h3 id="NewEtcdHelper">func <a title="View Source" href="https://github.com/GoogleCloudPlatform/kubernetes/blob/master/pkg/master/master.go#L127">NewEtcdHelper</a> <a class="permalink" href="master.html#NewEtcdHelper">&para;</a></h3>
          <pre class="funcdecl">func NewEtcdHelper(client <a href="tools.html">tools</a>.<a href="tools.html#EtcdGetSet">EtcdGetSet</a>, version <a href="http://godoc.org/builtin#string">string</a>) (helper <a href="tools.html">tools</a>.<a href="tools.html#EtcdHelper">EtcdHelper</a>, err <a href="http://godoc.org/builtin#error">error</a>)</pre><p>
NewEtcdHelper returns an EtcdHelper for the provided arguments or an error if the version
is incorrect.
</p>

          
  

        
          <h3 id="NewHandlerContainer">func <a title="View Source" href="https://github.com/GoogleCloudPlatform/kubernetes/blob/master/pkg/master/master.go#L275">NewHandlerContainer</a> <a class="permalink" href="master.html#NewHandlerContainer">&para;</a></h3>
          <pre class="funcdecl">func NewHandlerContainer(mux *<a href="http://godoc.org/net/http">http</a>.<a href="http://godoc.org/net/http#ServeMux">ServeMux</a>) *<a href="http://godoc.org/github.com/emicklei/go-restful">restful</a>.<a href="http://godoc.org/github.com/emicklei/go-restful#Container">Container</a></pre>
          
  

        

        
        

        
          <h3 id="Config">type <a title="View Source" href="https://github.com/GoogleCloudPlatform/kubernetes/blob/master/pkg/master/master.go#L61">Config</a> <a class="permalink" href="master.html#Config">&para;</a></h3>
          <pre>type Config struct {
    <span id="Config.Client">Client</span>                *<a href="client.html">client</a>.<a href="client.html#Client">Client</a>
    <span id="Config.Cloud">Cloud</span>                 <a href="cloudprovider.html">cloudprovider</a>.<a href="cloudprovider.html#Interface">Interface</a>
    <span id="Config.EtcdHelper">EtcdHelper</span>            <a href="tools.html">tools</a>.<a href="tools.html#EtcdHelper">EtcdHelper</a>
    <span id="Config.HealthCheckMinions">HealthCheckMinions</span>    <a href="http://godoc.org/builtin#bool">bool</a>
    <span id="Config.EventTTL">EventTTL</span>              <a href="http://godoc.org/time">time</a>.<a href="http://godoc.org/time#Duration">Duration</a>
    <span id="Config.MinionRegexp">MinionRegexp</span>          <a href="http://godoc.org/builtin#string">string</a>
    <span id="Config.KubeletClient">KubeletClient</span>         <a href="client.html">client</a>.<a href="client.html#KubeletClient">KubeletClient</a>
    <span id="Config.PortalNet">PortalNet</span>             *<a href="http://godoc.org/net">net</a>.<a href="http://godoc.org/net#IPNet">IPNet</a>
    <span id="Config.EnableLogsSupport">EnableLogsSupport</span>     <a href="http://godoc.org/builtin#bool">bool</a>
    <span id="Config.EnableUISupport">EnableUISupport</span>       <a href="http://godoc.org/builtin#bool">bool</a>
    <span id="Config.APIPrefix">APIPrefix</span>             <a href="http://godoc.org/builtin#string">string</a>
    <span id="Config.CorsAllowedOriginList">CorsAllowedOriginList</span> <a href="util.html">util</a>.<a href="util.html#StringList">StringList</a>
    <span id="Config.Authenticator">Authenticator</span>         <a href="auth/authenticator.html">authenticator</a>.<a href="auth/authenticator.html#Request">Request</a>
    <span id="Config.Authorizer">Authorizer</span>            <a href="auth/authorizer.html">authorizer</a>.<a href="auth/authorizer.html#Authorizer">Authorizer</a>

    <span class="com">// Number of masters running; all masters must be started with the</span>
    <span class="com">// same value for this field. (Numbers &gt; 1 currently untested.)</span>
    <span id="Config.MasterCount">MasterCount</span> <a href="http://godoc.org/builtin#int">int</a>

    <span class="com">// The port on PublicAddress where a read-only server will be installed.</span>
    <span class="com">// Defaults to 7080 if not set.</span>
    <span id="Config.ReadOnlyPort">ReadOnlyPort</span> <a href="http://godoc.org/builtin#int">int</a>
    <span class="com">// The port on PublicAddress where a read-write server will be installed.</span>
    <span class="com">// Defaults to 443 if not set.</span>
    <span id="Config.ReadWritePort">ReadWritePort</span> <a href="http://godoc.org/builtin#int">int</a>

    <span class="com">// If empty, the first result from net.InterfaceAddrs will be used.</span>
    <span id="Config.PublicAddress">PublicAddress</span> <a href="http://godoc.org/builtin#string">string</a>
}</pre><p>
Config is a structure used to configure a Master.
</p>

          
          
          
  


          

          
        
          <h3 id="Master">type <a title="View Source" href="https://github.com/GoogleCloudPlatform/kubernetes/blob/master/pkg/master/master.go#L93">Master</a> <a class="permalink" href="master.html#Master">&para;</a></h3>
          <pre>type Master struct {

    <span class="com">// &#34;Outputs&#34;</span>
    <span id="Master.Handler">Handler</span>         <a href="http://godoc.org/net/http">http</a>.<a href="http://godoc.org/net/http#Handler">Handler</a>
    <span id="Master.InsecureHandler">InsecureHandler</span> <a href="http://godoc.org/net/http">http</a>.<a href="http://godoc.org/net/http#Handler">Handler</a>
    <span class="com">// contains filtered or unexported fields</span>
}</pre><p>
Master contains state for a Kubernetes cluster master/api server.
</p>

          
          
          
  


          
            <h4 id="New">func <a title="View Source" href="https://github.com/GoogleCloudPlatform/kubernetes/blob/master/pkg/master/master.go#L215">New</a> <a class="permalink" href="master.html#New">&para;</a></h4>
            <pre class="funcdecl">func New(c *<a href="master.html#Config">Config</a>) *<a href="master.html#Master">Master</a></pre><p>
New returns a new instance of Master from the given config.
Certain config fields will be set to a default value if unset,
including:
</p>
<pre>PortalNet
MasterCount
ReadOnlyPort
ReadWritePort
PublicAddress
</pre>
<p>
Certain config fields must be specified, including:
</p>
<pre>KubeletClient
</pre>
<p>
Public fields:
</p>
<pre>Handler -- The returned master has a field TopHandler which is an
http.Handler which handles all the endpoints provided by the master,
including the API, the UI, and miscelaneous debugging endpoints.  All
these are subject to authorization and authentication.
InsecureHandler -- an http.Handler which handles all the same
endpoints as Handler, but no authorization and authentication is done.
</pre>
<p>
Public methods:
</p>
<pre>HandleWithAuth -- Allows caller to add an http.Handler for an endpoint
that uses the same authentication and authorization (if any is configured)
as the master&#39;s built-in endpoints.
If the caller wants to add additional endpoints not using the master&#39;s
auth, then the caller should create a handler for those endpoints, which delegates the
any unhandled paths to &#34;Handler&#34;.
</pre>

            
  

          

          
            <h4 id="Master.API_v1beta1">func (*Master) <a title="View Source" href="https://github.com/GoogleCloudPlatform/kubernetes/blob/master/pkg/master/master.go#L438">API_v1beta1</a> <a class="permalink" href="master.html#Master.API_v1beta1">&para;</a></h4>
            <pre class="funcdecl">func (m *<a href="master.html#Master">Master</a>) API_v1beta1() (map[<a href="http://godoc.org/builtin#string">string</a>]<a href="apiserver.html">apiserver</a>.<a href="apiserver.html#RESTStorage">RESTStorage</a>, <a href="runtime.html">runtime</a>.<a href="runtime.html#Codec">Codec</a>, <a href="http://godoc.org/builtin#string">string</a>, <a href="runtime.html">runtime</a>.<a href="runtime.html#SelfLinker">SelfLinker</a>)</pre><p>
API_v1beta1 returns the resources and codec for API version v1beta1.
</p>

            
  

          
            <h4 id="Master.API_v1beta2">func (*Master) <a title="View Source" href="https://github.com/GoogleCloudPlatform/kubernetes/blob/master/pkg/master/master.go#L447">API_v1beta2</a> <a class="permalink" href="master.html#Master.API_v1beta2">&para;</a></h4>
            <pre class="funcdecl">func (m *<a href="master.html#Master">Master</a>) API_v1beta2() (map[<a href="http://godoc.org/builtin#string">string</a>]<a href="apiserver.html">apiserver</a>.<a href="apiserver.html#RESTStorage">RESTStorage</a>, <a href="runtime.html">runtime</a>.<a href="runtime.html#Codec">Codec</a>, <a href="http://godoc.org/builtin#string">string</a>, <a href="runtime.html">runtime</a>.<a href="runtime.html#SelfLinker">SelfLinker</a>)</pre><p>
API_v1beta2 returns the resources and codec for API version v1beta2.
</p>

            
  

          
            <h4 id="Master.HandleFuncWithAuth">func (*Master) <a title="View Source" href="https://github.com/GoogleCloudPlatform/kubernetes/blob/master/pkg/master/master.go#L270">HandleFuncWithAuth</a> <a class="permalink" href="master.html#Master.HandleFuncWithAuth">&para;</a></h4>
            <pre class="funcdecl">func (m *<a href="master.html#Master">Master</a>) HandleFuncWithAuth(pattern <a href="http://godoc.org/builtin#string">string</a>, handler func(<a href="http://godoc.org/net/http">http</a>.<a href="http://godoc.org/net/http#ResponseWriter">ResponseWriter</a>, *<a href="http://godoc.org/net/http">http</a>.<a href="http://godoc.org/net/http#Request">Request</a>))</pre><p>
HandleFuncWithAuth adds an http.Handler for pattern to an http.ServeMux
Applies the same authentication and authorization (if any is configured)
to the request is used for the master&#39;s built-in endpoints.
</p>

            
  

          
            <h4 id="Master.HandleWithAuth">func (*Master) <a title="View Source" href="https://github.com/GoogleCloudPlatform/kubernetes/blob/master/pkg/master/master.go#L258">HandleWithAuth</a> <a class="permalink" href="master.html#Master.HandleWithAuth">&para;</a></h4>
            <pre class="funcdecl">func (m *<a href="master.html#Master">Master</a>) HandleWithAuth(pattern <a href="http://godoc.org/builtin#string">string</a>, handler <a href="http://godoc.org/net/http">http</a>.<a href="http://godoc.org/net/http#Handler">Handler</a>)</pre><p>
HandleWithAuth adds an http.Handler for pattern to an http.ServeMux
Applies the same authentication and authorization (if any is configured)
to the request is used for the master&#39;s built-in endpoints.
</p>

            
  

          
        
          <h3 id="PodCache">type <a title="View Source" href="https://github.com/GoogleCloudPlatform/kubernetes/blob/master/pkg/master/pod_cache.go#L32">PodCache</a> <a class="permalink" href="master.html#PodCache">&para;</a></h3>
          <pre>type PodCache struct {
    <span class="com">// contains filtered or unexported fields</span>
}</pre><p>
PodCache contains both a cache of container information, as well as the mechanism for keeping
that cache up to date.
</p>

          
          
          
  


          
            <h4 id="NewPodCache">func <a title="View Source" href="https://github.com/GoogleCloudPlatform/kubernetes/blob/master/pkg/master/pod_cache.go#L41">NewPodCache</a> <a class="permalink" href="master.html#NewPodCache">&para;</a></h4>
            <pre class="funcdecl">func NewPodCache(info <a href="client.html">client</a>.<a href="client.html#PodInfoGetter">PodInfoGetter</a>, pods <a href="registry/pod.html">pod</a>.<a href="registry/pod.html#Registry">Registry</a>) *<a href="master.html#PodCache">PodCache</a></pre><p>
NewPodCache returns a new PodCache which watches container information registered in the given PodRegistry.
</p>

            
  

          

          
            <h4 id="PodCache.GetPodInfo">func (*PodCache) <a title="View Source" href="https://github.com/GoogleCloudPlatform/kubernetes/blob/master/pkg/master/pod_cache.go#L57">GetPodInfo</a> <a class="permalink" href="master.html#PodCache.GetPodInfo">&para;</a></h4>
            <pre class="funcdecl">func (p *<a href="master.html#PodCache">PodCache</a>) GetPodInfo(host, podNamespace, podID <a href="http://godoc.org/builtin#string">string</a>) (<a href="api.html">api</a>.<a href="api.html#PodInfo">PodInfo</a>, <a href="http://godoc.org/builtin#error">error</a>)</pre><p>
GetPodInfo implements the PodInfoGetter.GetPodInfo.
The returned value should be treated as read-only.
TODO: Remove the host from this call, it&#39;s totally unnecessary.
</p>

            
  

          
            <h4 id="PodCache.UpdateAllContainers">func (*PodCache) <a title="View Source" href="https://github.com/GoogleCloudPlatform/kubernetes/blob/master/pkg/master/pod_cache.go#L79">UpdateAllContainers</a> <a class="permalink" href="master.html#PodCache.UpdateAllContainers">&para;</a></h4>
            <pre class="funcdecl">func (p *<a href="master.html#PodCache">PodCache</a>) UpdateAllContainers()</pre><p>
UpdateAllContainers updates information about all containers.  Either called by Loop() below, or one-off.
</p>

            
  

          
        

        
        
        
<h3 id="pkg-subdirectories">Directories <a class="permalink" href="master.html#pkg-subdirectories">&para;</a></h3>
    <table class="table table-condensed">
    <thead><tr><th>Path</th><th>Synopsis</th></tr></thead>
    <tbody><tr><td><a href="master/ports.html">ports</a><td>Package ports defines ports used by various pieces of the kubernetes infrastructure.</td></tr></tbody>
    </table>

<div id="x-pkginfo">

  <form name="x-refresh" method="POST" action="http://godoc.org/-/refresh"><input type="hidden" name="path" value="github.com/GoogleCloudPlatform/kubernetes/pkg/master"></form>
  <p>Package master imports <a href="master@imports.html">38 packages</a> (<a href="master@import-graph.html">graph</a>) and is imported by <a href="master@importers.html">9 packages</a>.
  Updated <span class="timeago" title="2014-12-04T23:17:55Z">2014-12-04</span>.
  <a href="javascript:document.getElementsByName('x-refresh')[0].submit();" title="Refresh this page from the source.">Refresh now</a>.
  <a href="master@tools.html">Tools</a> for package owners.
  


</div>




  

</div>
<div id="x-footer" class="clearfix">
  <div class="container">
    <a href="https://github.com/golang/gddo/issues">Website Issues</a>
    <span class="text-muted">|</span> <a href="http://golang.org/">Go Language</a>
    <span class="pull-right"><a href="master.html#">Back to top</a></span>
  </div>
</div>

<div id="x-shortcuts" tabindex="-1" class="modal fade">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          <h4 class="modal-title">Keyboard shortcuts</h4>
        </div>
        <div class="modal-body">
          <table>
          <tr><td align="right"><b>?</b></td><td> : This menu</td></tr>
          <tr><td align="right"><b>/</b></td><td> : Search site</td></tr>
          <tr><td align="right"><b>g</b> then <b>g</b></td><td> : Go to top of page</td></tr>
          <tr><td align="right"><b>g</b> then <b>b</b></td><td> : Go to end of page</td></tr>
          <tr><td align="right"><b>g</b> then <b>i</b></td><td> : Go to index</td></tr>
          <tr><td align="right"><b>g</b> then <b>e</b></td><td> : Go to examples</td></tr>
          </table>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script><script src="../../../../-/site.js@v=fee4524d1fe25f85f48781007ab8f34f2de49aa5"></script><script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-11222381-8']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</body>
</html>
